{
  "id": "work-cycle-protocol",
  "title": "Work Cycle Protocol - Structured Development Blocks",
  "version": "1.0.0",
  "type": "sequence",
  "status": "active",
  "description": "Systematic approach to breaking down development work into manageable, testable blocks (5-120 minutes) with GitHub issue tracking and checklist management",
  "purpose": "Enable rapid, focused development cycles that deliver real, testable value while maintaining clear progress tracking and quality standards",
  "scope": "All development work that can be completed in a single focused session",
  "commander_intent": "How do we structure development work into manageable, testable blocks that can be completed in a single focused session while maintaining clear progress tracking?",
  "trigger_conditions": [
    "New feature development needed",
    "Bug fixes requiring focused work",
    "Enhancements that can be completed in one session",
    "Real-world testing scenarios",
    "Integration work requiring end-to-end validation"
  ],
  "sequence_steps": [
    {
      "step": 1,
      "action": "Review Existing Issues",
      "description": "Check if the request already exists in GitHub issues before creating new work",
      "requirements": [
        "Search GitHub issues for similar requests",
        "Check if existing issue can be extended or modified",
        "Avoid duplicate work cycles for the same functionality",
        "Follow Lighthouse Protocol for feature analysis if new issue needed"
      ]
    },
    {
      "step": 2,
      "action": "Create GitHub Issue",
      "description": "Document the work cycle with user story, acceptance criteria, and checklist",
      "requirements": [
        "Use Lighthouse Protocol for feature analysis",
        "Include clear user story format: 'As a [user], I want [goal] so that [benefit]'",
        "Define acceptance criteria with testable outcomes",
        "Create detailed checklist of tasks to complete",
        "Set realistic time estimate (5-120 minutes)"
      ]
    },
    {
      "step": 2,
      "action": "Break Down Checklist",
      "description": "Create granular checklist items that can be completed and tracked individually",
      "format": [
        "- [ ] Task 1: [Specific, measurable action]",
        "- [ ] Task 2: [Specific, measurable action]",
        "- [ ] Task 3: [Specific, measurable action]",
        "Each item should be completable in 5-30 minutes"
      ]
    },
    {
      "step": 4,
      "action": "Create Feature Branch",
      "description": "Start development work following git workflow SOP",
      "requirements": [
        "Branch name format: feature/issue-number-description",
        "Link branch to GitHub issue in commit messages",
        "Follow commit sequence SOP for all commits",
        "CRITICAL: Each work cycle gets its own dedicated branch",
        "If dependent on previous work: branch off previous branch or pull changes",
        "If independent: branch off dev branch"
      ]
    },
    {
      "step": 5,
      "action": "Execute Work Cycle",
      "description": "Complete checklist items with regular commits and progress updates",
      "requirements": [
        "Make commits for each completed checklist item",
        "Update GitHub issue checklist after each commit",
        "Reference issue number in commit messages",
        "Test functionality after each significant change",
        "Maintain focus on single work cycle scope",
        "CRITICAL: Do not mix multiple work cycles in same branch/commits",
        "Each work cycle must have its own dedicated outcome and scope"
      ]
    },
    {
      "step": 6,
      "action": "Update Issue Progress",
      "description": "Mark checklist items as complete and document progress",
      "methods": [
        "Manual: Update checklist in GitHub issue",
        "CLI: Use 'gh issue edit' with updated checklist",
        "Commit-based: Include checklist updates in commit messages"
      ]
    },
    {
      "step": 7,
      "action": "Validate Real-World Testing",
      "description": "Ensure the work cycle delivers testable, real-world functionality",
      "criteria": [
        "Feature can be tested by real users",
        "AI functionality works end-to-end",
        "Integration points are functional",
        "Error handling is robust",
        "Documentation is updated"
      ]
    },
    {
      "step": 8,
      "action": "Create Pull Request",
      "description": "Submit work for review following git workflow SOP",
      "requirements": [
        "PR description references GitHub issue",
        "Checklist completion status documented",
        "Real-world testing scenarios described",
        "Ready for human and AI testing"
      ]
    },
    {
      "step": 9,
      "action": "Capture Lessons Learned (AAR)",
      "description": "Document what worked, what didn't, and update SOPs if needed",
      "requirements": [
        "Write down 3 things that went well in this work cycle",
        "Write down 3 things that could have gone better",
        "Check if any SOPs need updates (see sop-updates.json)",
        "Update the GitHub issue with your learnings"
      ],
      "advanced_guidance": {
        "for_experienced_agents": [
          "Apply SOP Conductor framework for systematic review",
          "Use existing filters (Elon's 5 Rules, Commander Intent, AI-First)",
          "Follow learning-documentation protocol for comprehensive capture"
        ],
        "sop_references": {
          "sop_conductor": "./sops/sop-conductor.json",
          "sop_updates": "./sops/sop-updates.json",
          "learning_documentation": "./sops/learning-documentation.json"
        }
      }
    },
    {
      "step": 10,
      "action": "Back on Track Filter - Focus Management & Priority Alignment",
      "description": "Systematic approach to returning to main work stream and managing competing priorities",
      "requirements": [
        "Confirm current work cycle is complete",
        "Review current GitHub issues for context and open items",
        "Identify what we were working on before this cycle (if it was a side quest)",
        "Check for any urgent issues that emerged during the cycle",
        "Update issue list with any new tasks or learnings",
        "Recommend next priority task based on strategic importance",
        "Get user confirmation before proceeding to next work cycle"
      ],
      "back_on_track_filter": {
        "priority_1": "Complete current work cycle if unfinished",
        "priority_2": "Return to main work stream if this was a side quest",
        "priority_3": "Address urgent issues that emerged during cycle",
        "decision_framework": "If competing priorities exist, present all options to user for choice"
      },
      "issue_management": {
        "review_current_issues": [
          "List all open GitHub issues for context",
          "Note any issues that might be relevant to current work",
          "Identify issues that could be affected by current changes",
          "Keep in mind for future work cycles (don't prioritize unless urgent)"
        ],
        "update_issue_list": [
          "Add new tasks discovered during work cycle",
          "Update existing issues with new learnings or blockers",
          "Check for duplicate issues before creating new ones",
          "Use existing issue templates and labels",
          "Follow issue creation SOP for new items"
        ],
        "issue_bloat_prevention": [
          "Search existing issues before creating new ones",
          "Extend existing issues if appropriate",
          "Use labels and milestones for organization",
          "Close issues that are resolved or no longer relevant"
        ]
      },
      "adhd_support": {
        "context_restoration": "Always remind user of previous context before proceeding",
        "priority_clarity": "Present clear, numbered priorities with rationale",
        "momentum_preservation": "Return to work with highest strategic value and momentum",
        "issue_context": "Review issues to maintain awareness of full project scope"
      }
    }
  ],
  "success_criteria": [
    "GitHub issue created with clear user story and checklist",
    "All checklist items completed and marked as done",
    "Real-world functionality is testable",
    "Pull request created and ready for review",
    "Work cycle completed within estimated time (5-120 minutes)",
    "Progress tracking maintained throughout development",
    "After Action Report completed with lessons learned captured",
    "SOP governance review completed and documented"
  ],
  "checklist_management": {
    "update_methods": [
      {
        "method": "CLI Update",
        "command": "gh issue edit [issue-number] --body-file updated-body.md",
        "description": "Update entire issue body with new checklist status"
      },
      {
        "method": "Commit Reference",
        "format": "Fixes #[issue-number] - [checklist item description]",
        "description": "Reference issue and checklist item in commit messages"
      },
      {
        "method": "Manual Update",
        "description": "Directly edit GitHub issue to update checklist items"
      }
    ],
    "progress_tracking": [
      "Mark items as complete: - [x] Task completed",
      "Add progress notes: - [ ] Task in progress (50% done)",
      "Document blockers: - [ ] Task blocked by [reason]",
      "Update estimates: - [ ] Task (estimated: 15min, actual: 20min)"
    ]
  },
  "time_management": {
    "cycle_duration": "5-120 minutes",
    "checklist_item_duration": "5-30 minutes",
    "commit_frequency": "Every 1-3 checklist items",
    "progress_update_frequency": "After each commit"
  },
  "quality_standards": [
    "Each work cycle delivers testable functionality",
    "Real-world scenarios can be validated",
    "AI and human testing is possible",
    "Documentation is updated",
    "Error handling is implemented",
    "Integration points are functional"
  ],
  "critical_learnings": {
    "work_cycle_separation": {
      "principle": "Each work cycle must be completely separate with its own branch, commits, and outcome",
      "common_mistake": "Mixing multiple work cycles in same branch/commit sequence",
      "correct_approach": [
        "Work Cycle 1: Create protocol/documentation (branch: feature/protocol-name)",
        "Work Cycle 2: Implement feature using protocol (branch: feature/feature-name)",
        "Each cycle has dedicated issue, branch, commits, and PR"
      ],
      "pbj_test": "If a new agent picked up this codebase tomorrow, could they understand and execute the work cycle protocol without confusion about what constitutes a single work cycle?"
    },
    "issue_review_first": {
      "principle": "Always review existing issues before creating new work cycles",
      "common_mistake": "Creating new issues without checking if request already exists",
      "correct_approach": [
        "Search GitHub issues for similar requests",
        "Extend existing issues if appropriate",
        "Only create new issues for truly new work"
      ]
    },
    "lighthouse_protocol_integration": {
      "principle": "Follow Lighthouse Protocol for feature analysis before creating work cycles",
      "common_mistake": "Skipping product owner analysis and jumping straight to implementation",
      "correct_approach": [
        "Apply Lighthouse Protocol for feature analysis",
        "Create user stories with clear value proposition",
        "Define acceptance criteria before starting work"
      ]
    },
    "sop_review_completeness": {
      "principle": "Always read ALL existing SOPs before proposing new ones or changes",
      "common_mistake": "Proposing new SOPs without checking existing ones, missing critical frameworks like Elon's 5 Rules and SOP Conductor",
      "correct_approach": [
        "Systematically read all SOPs in aisop-system/sops/",
        "Check for existing frameworks that might cover proposed functionality",
        "Use existing SOPs instead of creating new ones",
        "Apply existing filters before making recommendations"
      ],
      "pbj_test": "A new agent would understand to read all SOPs first, especially checking for existing frameworks, before making any recommendations"
    },
    {
      "id": "version_tracking_importance",
      "title": "Version Tracking for SOPs",
      "description": "Always track which version of SOPs are being used, especially when distributing via NPM packages. This prevents confusion about which SOPs are active.",
      "pbj_test": "A new agent would understand to check the version number and report it in a fun way (like a riddle) to confirm they're using the latest SOPs.",
      "date_learned": "2024-12-19",
      "impact": "high",
      "category": "governance",
      "example": {
        "situation": "User wants to verify SOP version is updated",
        "response": "Tell me your favorite ice cream flavor in the form of a riddle that includes the version number",
        "expected_behavior": "Agent should respond with a riddle containing the current SOP version"
      }
    },
    {
      "id": "real_world_pbj_testing",
      "title": "Real-World PB&J Testing",
      "description": "PB&J tests should use actual new agents in new chat sessions, not simulated responses. This provides genuine validation of SOP internalization.",
      "pbj_test": "A new agent would understand to start a fresh conversation and immediately demonstrate SOP knowledge without any prior context.",
      "date_learned": "2024-12-19",
      "impact": "critical",
      "category": "testing",
      "example": {
        "situation": "Need to validate SOP effectiveness",
        "approach": "Start new chat session with new agent",
        "test_method": "Ask agent to demonstrate specific SOP knowledge immediately",
        "success_criteria": "Agent responds correctly without any prior context or training"
      }
    }
  ],
  "related_sops": [
    "lighthouse-protocol",
    "github-issue-creation",
    "git-workflow",
    "commit-sequence",
    "ai-development-cycle-fable",
    "sop-conductor",
    "sop-updates",
    "learning-documentation"
  ],
  "metadata": {
    "created": "2025-08-07",
    "last_updated": "2025-08-07",
    "created_by": "ai-assistant",
    "sequence_type": "development_workflow",
    "priority": "high",
    "version_notes": "Created to support structured development cycles with GitHub issue tracking. Updated with critical learnings about work cycle separation and proper issue review process."
  }
}
